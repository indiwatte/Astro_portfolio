---
import DetailLayout from "../../layouts/DetailLayout.astro";
import { getCollection } from "astro:content";

export async function getStaticPaths() {
    const projects = await getCollection("projects");
    return projects.map((p) => ({
        params: { slug: p.id.replace(".md", "") },
        props: { project: p },
    }));
}

const { project } = Astro.props;
---

<BaseLayout title={project.data.title}>
    <article>
        <h1>{project.data.title}</h1>

        {
            project.data.image && (
                <img src={project.data.image} alt={project.data.title} />
            )
        }

        <p>{project.data.description}</p>
        <p><em>{project.data.date}</em></p>

        <div set:html={project.body} />
    </article>
</BaseLayout>

<style>


    /* Article layout */
    article {
        max-width: 800px;
        margin: 0 auto;
        padding: 2rem 1.5rem;
        font-family: "Inter", sans-serif;
        line-height: 1.6;
    }

    /* Title */
    article h1 {
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 1rem;
<DetailLayout title={project.data.title}>
    {
        project.data.image && (
            <img src={project.data.image} alt={project.data.title} />
        )
    }

    <p>{project.data.description}</p>

    {
        project.data.date && (
            <p>
                <em>{project.data.date}</em>
            </p>
        )
    }

    <div set:html={project.body} />
</DetailLayout>
